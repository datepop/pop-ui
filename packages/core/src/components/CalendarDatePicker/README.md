# CalendarDatePicker

Mantine DatePicker ê¸°ë°˜ì˜ ì¸ë¼ì¸ ìº˜ë¦°ë” ì»´í¬ë„ŒíŠ¸ë¡œ, ë‚ ì§œ ì„ íƒ ì‹œ íŠ¹ì • ë‚ ì§œë‚˜ ìš”ì¼ì„ ì œì™¸í•  ìˆ˜ ìˆëŠ” ê¸°ëŠ¥ì„ ì œê³µí•©ë‹ˆë‹¤.

## ğŸ“¦ Features

- âœ… **ë‹¨ì¼/ë²”ìœ„ ë‚ ì§œ ì œì™¸**: íŠ¹ì • ë‚ ì§œ ë˜ëŠ” ë‚ ì§œ ë²”ìœ„ë¥¼ ë¹„í™œì„±í™”
- âœ… **ìš”ì¼ ì œì™¸**: ì£¼ë§ì´ë‚˜ íŠ¹ì • ìš”ì¼ì„ ë¹„í™œì„±í™”
- âœ… **ìœ ì—°í•œ API**: ë‹¨ì¼ ë‚ ì§œì™€ ë²”ìœ„ë¥¼ í•˜ë‚˜ì˜ ë°°ì—´ì—ì„œ í˜¼í•© ì‚¬ìš© ê°€ëŠ¥
- âœ… **ì»¤ìŠ¤í…€ ìŠ¤íƒ€ì¼ë§**: SCSS ëª¨ë“ˆì„ í†µí•œ ì„¸ë°€í•œ ìŠ¤íƒ€ì¼ ì œì–´
- âœ… **íƒ€ì… ì•ˆì „ì„±**: TypeScriptë¡œ ì‘ì„±ë˜ì–´ ì™„ë²½í•œ íƒ€ì… ì§€ì›

## ğŸš€ Usage

### ê¸°ë³¸ ì‚¬ìš©ë²•

```tsx
import { CalendarDatePicker } from '@pop-ui/core';

function App() {
  return <CalendarDatePicker type="default" />;
}
```

### íŠ¹ì • ë‚ ì§œ ì œì™¸

```tsx
<CalendarDatePicker
  excludedDates={[
    '2025-11-24', // ë‹¨ì¼ ë‚ ì§œ
    '2025-12-25', // í¬ë¦¬ìŠ¤ë§ˆìŠ¤
    ['2025-12-24', '2025-12-26'], // í¬ë¦¬ìŠ¤ë§ˆìŠ¤ ì—°íœ´ (ë²”ìœ„)
  ]}
/>
```

### ìš”ì¼ ì œì™¸ (ì£¼ë§)

```tsx
<CalendarDatePicker
  excludedDays={[0, 6]} // 0=ì¼ìš”ì¼, 6=í† ìš”ì¼
/>
```

### ë³µí•© ì‚¬ìš©

```tsx
<CalendarDatePicker
  excludedDays={[0, 6]} // ì£¼ë§ ì œì™¸
  excludedDates={[
    '2025-11-28', // ì¶”ìˆ˜ê°ì‚¬ì ˆ
    '2025-12-25', // í¬ë¦¬ìŠ¤ë§ˆìŠ¤
    ['2025-12-28', '2026-01-03'], // ì—°ë§ì—°ì‹œ íœ´ê°€
  ]}
/>
```

## ğŸ“‹ Props

### `excludedDates`

íŠ¹ì • ë‚ ì§œ ë˜ëŠ” ë‚ ì§œ ë²”ìœ„ë¥¼ ì œì™¸í•©ë‹ˆë‹¤.

- **íƒ€ì…**: `(string | [string, string])[]`
- **ê¸°ë³¸ê°’**: `[]`
- **í˜•ì‹**:
  - ë‹¨ì¼ ë‚ ì§œ: `'YYYY-MM-DD'` í˜•ì‹ì˜ ë¬¸ìì—´
  - ë‚ ì§œ ë²”ìœ„: `[ì‹œì‘ì¼, ì¢…ë£Œì¼]` í˜•ì‹ì˜ íŠœí”Œ

**ì˜ˆì‹œ:**

```tsx
excludedDates={[
  '2025-11-24',                    // ë‹¨ì¼ ë‚ ì§œ
  '2025-11-25',                    // ë‹¨ì¼ ë‚ ì§œ
  ['2025-12-24', '2025-12-26'],    // ë²”ìœ„ (3ì¼ê°„)
  ['2025-12-28', '2026-01-03'],    // ë²”ìœ„ (7ì¼ê°„)
]}
```

### `excludedDays`

íŠ¹ì • ìš”ì¼ì„ ì œì™¸í•©ë‹ˆë‹¤.

- **íƒ€ì…**: `number[]`
- **ê¸°ë³¸ê°’**: `[]`
- **ê°’**: `0` (ì¼ìš”ì¼) ~ `6` (í† ìš”ì¼)

**ì˜ˆì‹œ:**

```tsx
excludedDays={[0, 6]}        // ì£¼ë§ ì œì™¸
excludedDays={[1, 3, 5]}     // ì›”, ìˆ˜, ê¸ˆ ì œì™¸
```

### `type`

DatePicker íƒ€ì…ì„ ì§€ì •í•©ë‹ˆë‹¤.

- **íƒ€ì…**: `'default' | 'multiple' | 'range'`
- **ê¸°ë³¸ê°’**: `'default'`

### `showTodayIndicator`

ì˜¤ëŠ˜ ë‚ ì§œì— "ì˜¤ëŠ˜" í…ìŠ¤íŠ¸ë¥¼ í‘œì‹œí•©ë‹ˆë‹¤.

- **íƒ€ì…**: `boolean`
- **ê¸°ë³¸ê°’**: `false`

**ì˜ˆì‹œ:**

```tsx
<CalendarDatePicker showTodayIndicator={true} />
```

### ê¸°íƒ€ Props

Mantineì˜ `DatePicker` ì»´í¬ë„ŒíŠ¸ì˜ ëª¨ë“  propsë¥¼ ì§€ì›í•©ë‹ˆë‹¤.
ìì„¸í•œ ë‚´ìš©ì€ [Mantine DatePicker ë¬¸ì„œ](https://mantine.dev/dates/date-picker/)ë¥¼ ì°¸ê³ í•˜ì„¸ìš”.

## ğŸ¨ Styling

ì»´í¬ë„ŒíŠ¸ëŠ” `styles.module.scss`ë¥¼ í†µí•´ ìŠ¤íƒ€ì¼ë§ë©ë‹ˆë‹¤.

### ì§€ì›í•˜ëŠ” ìƒíƒœ

- `[data-selected]`: ì„ íƒëœ ë‚ ì§œ
- `[data-disabled]`: ë¹„í™œì„±í™”ëœ ë‚ ì§œ
- `[data-in-range]`: ë²”ìœ„ ì„ íƒ ì‹œ ë²”ìœ„ ë‚´ ë‚ ì§œ
- `[data-weekend]`: ì£¼ë§
- `[data-outside]`: í˜„ì¬ ì›” ì™¸ë¶€ì˜ ë‚ ì§œ
- `[data-today]`: ì˜¤ëŠ˜ ë‚ ì§œ

### ì˜¤ëŠ˜ ë‚ ì§œ í‘œì‹œ ìŠ¤íƒ€ì¼

- `.todayIndicator`: ì˜¤ëŠ˜ ë‚ ì§œ í•˜ë‹¨ì˜ "ì˜¤ëŠ˜" í…ìŠ¤íŠ¸ (í™œì„±í™” ìƒíƒœ)
- `.todayIndicatorDisabled`: ì˜¤ëŠ˜ ë‚ ì§œ í•˜ë‹¨ì˜ "ì˜¤ëŠ˜" í…ìŠ¤íŠ¸ (ë¹„í™œì„±í™” ìƒíƒœ)
- `.withoutTodayIndicator`: `showTodayIndicator={false}` ì¼ ë•Œ ì ìš©ë˜ëŠ” ë˜í¼ í´ë˜ìŠ¤

### ì»¤ìŠ¤í…€ ìŠ¤íƒ€ì¼ ì˜ˆì‹œ

```scss
.day {
  &[data-selected] {
    background-color: $color-aqua-500;
    color: $color-gray-0 !important;
    font-weight: 600;
  }

  &[data-disabled] {
    color: $color-gray-200;
    cursor: not-allowed;
    text-decoration: line-through;
  }

  &[data-today] {
    font-weight: 600;
    color: $color-aqua-500;
  }
}
```

## ğŸ—ï¸ Architecture

### íŒŒì¼ êµ¬ì¡°

```
CalendarDatePicker/
â”œâ”€â”€ index.tsx                      # ë©”ì¸ ì»´í¬ë„ŒíŠ¸
â”œâ”€â”€ types.ts                       # TypeScript íƒ€ì… ì •ì˜
â”œâ”€â”€ utils.ts                       # ìœ í‹¸ë¦¬í‹° í•¨ìˆ˜
â”‚   â”œâ”€â”€ createExcludedDateChecker  # ë‚ ì§œ ì œì™¸ ë¡œì§
â”‚   â”œâ”€â”€ hasExcludedDateInRange     # ë²”ìœ„ ë‚´ ì œì™¸ ë‚ ì§œ í™•ì¸
â”‚   â”œâ”€â”€ getEmptyValueForType       # íƒ€ì…ë³„ ë¹ˆ ê°’ ë°˜í™˜
â”‚   â”œâ”€â”€ normalizeValueForType      # íƒ€ì…ë³„ ê°’ ì •ê·œí™”
â”‚   â””â”€â”€ resolveDatePickerValue     # ë‚ ì§œ ê°’ í•´ì„
â”œâ”€â”€ styles.module.scss             # ìŠ¤íƒ€ì¼
â”œâ”€â”€ CalendarDatePicker.stories.tsx # Storybook ìŠ¤í† ë¦¬
â””â”€â”€ README.md                      # ë¬¸ì„œ (ì´ íŒŒì¼)
```

### í•µì‹¬ ë¡œì§: `createExcludedDateChecker`

ë‚ ì§œ ì œì™¸ ë¡œì§ì€ `utils.ts`ì˜ `createExcludedDateChecker` í•¨ìˆ˜ì—ì„œ ì²˜ë¦¬ë©ë‹ˆë‹¤.

**ë™ì‘ ë°©ì‹:**

1. **ì…ë ¥ ì²˜ë¦¬**: `excludedDates` ë°°ì—´ì„ ë‹¨ì¼ ë‚ ì§œì™€ ë²”ìœ„ë¡œ ë¶„ë¦¬
2. **ì •ê·œí™”**: ë‚ ì§œë¥¼ `YYYY-MM-DD` í˜•ì‹ìœ¼ë¡œ ì •ê·œí™”í•˜ê³  dayjs ê°ì²´ë¡œ íŒŒì‹±
3. **ê²€ì‚¬**: ì£¼ì–´ì§„ ë‚ ì§œê°€ ë‹¤ìŒ ì¡°ê±´ì— í•´ë‹¹í•˜ëŠ”ì§€ í™•ì¸
   - ì œì™¸ëœ ìš”ì¼ì¸ê°€?
   - ì œì™¸ëœ ë‹¨ì¼ ë‚ ì§œì¸ê°€?
   - ì œì™¸ëœ ë²”ìœ„ ë‚´ì— ìˆëŠ”ê°€?

**ì˜ˆì‹œ:**

```typescript
const isExcluded = createExcludedDateChecker({
  excludeWeekdays: [0, 6], // ì£¼ë§
  excludeDates: ['2025-12-25', ['2025-12-24', '2025-12-26']],
});

isExcluded(new Date('2025-12-25')); // true (ë‹¨ì¼ ë‚ ì§œ)
isExcluded(new Date('2025-12-24')); // true (ë²”ìœ„ ë‚´)
isExcluded(new Date('2025-12-27')); // false
```

## ğŸ§ª Storybook

Storybookì—ì„œ ë‹¤ì–‘í•œ ì‚¬ìš© ì˜ˆì‹œë¥¼ í™•ì¸í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.

### ìŠ¤í† ë¦¬ ëª©ë¡

- **DefaultDatePicker**: ê¸°ë³¸ ìº˜ë¦°ë”
- **WithExcludedDays**: ìš”ì¼ ì œì™¸ (ë¼ë””ì˜¤ ë²„íŠ¼ìœ¼ë¡œ ì„ íƒ)
- **WithExcludedDates**: ë‚ ì§œ/ë²”ìœ„ ì œì™¸

## ğŸ’¡ Tips

### 1. ë‚ ì§œ í˜•ì‹ ì¼ê´€ì„± ìœ ì§€

`YYYY-MM-DD` í˜•ì‹ ì‚¬ìš©ì„ ê¶Œì¥í•©ë‹ˆë‹¤. ë‹¤ë¥¸ í˜•ì‹ë„ dayjsê°€ íŒŒì‹±í•˜ì§€ë§Œ, ì¼ê´€ì„±ê³¼ ëª…í™•ì„±ì„ ìœ„í•´ í‘œì¤€ í˜•ì‹ì„ ì‚¬ìš©í•˜ì„¸ìš”:

```tsx
// âœ… Good - ê¶Œì¥
excludedDates={['2025-11-24']}

// âš ï¸ ì‘ë™í•˜ì§€ë§Œ ê¶Œì¥í•˜ì§€ ì•ŠìŒ
excludedDates={['11/24/2025']}        // ë¡œì¼€ì¼ì— ë”°ë¼ í•´ì„ì´ ë‹¤ë¥¼ ìˆ˜ ìˆìŒ
excludedDates={['2025-11-24T00:00:00']} // ë¶ˆí•„ìš”í•˜ê²Œ ë³µì¡í•¨
```

### 2. ë²”ìœ„ ì‚¬ìš© ì‹œ ì£¼ì˜ì‚¬í•­

ë²”ìœ„ëŠ” ì‹œì‘ì¼ê³¼ ì¢…ë£Œì¼ì„ **í¬í•¨**í•©ë‹ˆë‹¤:

```tsx
// 12/24, 12/25, 12/26 ëª¨ë‘ ì œì™¸ë¨
excludedDates={[['2025-12-24', '2025-12-26']]}
```

### 3. ì„±ëŠ¥ ìµœì í™”

ë§ì€ ë‚ ì§œë¥¼ ì œì™¸í•´ì•¼ í•œë‹¤ë©´ ë²”ìœ„ë¥¼ ì‚¬ìš©í•˜ëŠ” ê²ƒì´ íš¨ìœ¨ì ì…ë‹ˆë‹¤:

```tsx
// âœ… Good - ë²”ìœ„ ì‚¬ìš©
excludedDates={[['2025-12-01', '2025-12-31']]}

// âŒ Bad - ê°œë³„ ë‚ ì§œ ë‚˜ì—´
excludedDates={[
  '2025-12-01', '2025-12-02', '2025-12-03', /* ... */ '2025-12-31'
]}
```

### 4. ìš”ì¼ê³¼ ë‚ ì§œ ì¡°í•©

`excludedDays`ì™€ `excludedDates`ë¥¼ í•¨ê»˜ ì‚¬ìš©í•˜ë©´ ë” ì„¸ë°€í•œ ì œì–´ê°€ ê°€ëŠ¥í•©ë‹ˆë‹¤:

```tsx
<CalendarDatePicker
  excludedDays={[0, 6]} // ê¸°ë³¸ì ìœ¼ë¡œ ì£¼ë§ ì œì™¸
  excludedDates={[
    '2025-11-27', // í‰ì¼ì´ì§€ë§Œ ì œì™¸ (ê³µíœ´ì¼)
  ]}
/>
```

## ğŸ“š Related

- [Mantine DatePicker](https://mantine.dev/dates/date-picker/)
- [dayjs](https://day.js.org/)
- [POP-UI DatePicker](../DatePicker/README.md)
